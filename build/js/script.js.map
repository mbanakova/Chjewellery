{"version":3,"names":[],"mappings":"","sources":["script.js"],"sourcesContent":["\"use strict\";\n\n(function () {\n  document.querySelector(\".header\").classList.add(\"header--js\");\n  document.querySelector(\".header\").classList.add(\"header--close\");\n  let burger = document.querySelector(\".header__burger\");\n  let header = document.querySelector(\"header\");\n\n  if (burger) {\n    burger.addEventListener(\"click\", () => {\n      header.classList.toggle(\"header--close\");\n    });\n  }\n\n  let items = document.querySelectorAll(\".faq__item\");\n\n  if (items) {\n    items.forEach(item => {\n      item.addEventListener(\"click\", () => {\n        const title = item.querySelector(\"h3\");\n        console.log(title);\n        const height = title.nextElementSibling.scrollHeight;\n        title.classList.toggle(\"active\");\n\n        if (title.classList.contains(\"active\")) {\n          title.nextElementSibling.style.maxHeight = `${height}px`;\n        } else {\n          title.nextElementSibling.style.maxHeight = 0;\n        }\n      });\n    });\n  } // filter\n\n\n  let filter = document.querySelector(\".catalog__filter-wrap\");\n  let filterToggle = document.querySelector(\".catalog__button\");\n  let filterClose = document.querySelector(\".filter__close\");\n\n  if (filter) {\n    filter.classList.add(\"catalog__filter-wrap--js\");\n  }\n\n  if (filterToggle) {\n    filterToggle.addEventListener(\"click\", () => {\n      filter.classList.toggle(\"catalog__filter-wrap--open\");\n      filter.classList.toggle(\"catalog__filter-wrap--js\");\n    });\n  }\n\n  if (filterClose) {\n    filterClose.addEventListener(\"click\", () => {\n      filter.classList.remove(\"catalog__filter-wrap--open\");\n      filter.classList.add(\"catalog__filter-wrap--js\");\n    });\n  } /// swiper\n\n\n  let swiper = new Swiper(\".swiper-container\", {\n    slidesPerView: 4,\n    slidesPerGroup: 4,\n    spaceBetween: 30,\n    speed: 1000,\n    freeMode: true,\n    autoHeight: true,\n    watchSlidesVisibility: true,\n    navigation: {\n      nextEl: \".swiper-button-next\",\n      prevEl: \".swiper-button-prev\"\n    },\n    pagination: {\n      el: \".swiper-pagination\",\n      clickable: true,\n      renderBullet: function (index, className) {\n        return `<span class=\"${className}\">${index + 1}</span>`;\n      }\n    },\n    lazy: {\n      loadPrevNext: true\n    },\n    breakpoints: {\n      0: {\n        slidesPerView: 2,\n        slidesPerGroup: 2,\n        pagination: {\n          type: `fraction`,\n\n          renderFraction(currentClass, totalClass, index, total) {\n            return `<span class=\"${currentClass}\" type=\"button\">0${index}</span> of <span class=\"${totalClass}\" type=\"button\">0${total}</span>`;\n          }\n\n        }\n      },\n      768: {\n        slidesPerView: 2,\n        slidesPerGroup: 2,\n        pagination: {\n          type: `bullets`\n        }\n      },\n      1024: {\n        slidesPerView: 4,\n        slidesPerGroup: 4,\n        pagination: {\n          type: `bullets`\n        }\n      }\n    }\n  });\n})(); //filter\n\n\nlet filter = document.querySelector(\".filter\");\nlet filterToggle = document.querySelector(\".catalog__button\");\n\nif (filter) {\n  filter.classList.add(\"filter--js\");\n  filterToggle.addEventListener(\"click\", () => {\n    filter.classList.remove(\"filter--js\");\n  });\n} ///tabs\n\n\nlet tabs = document.querySelectorAll(\".tabs__triggers-item\");\nlet bigImage = document.querySelector(\".tabs__content\");\n\nif (tabs) {\n  tabs.forEach(tab => {\n    tab.addEventListener(\"click\", event => {\n      console.log(event.target);\n      event.preventDefault();\n      tabs.forEach(elem => elem.classList.remove(\"tabs__triggers-item--active\"));\n      bigImage.src = event.target.src;\n      bigImage.srcset = event.target.srcset;\n      tab.classList.add(\"tabs__triggers-item--active\");\n    });\n  });\n} // add to cart modal\n\n\nlet addBtn = document.querySelector(\".jewel__add-link\");\nlet addModal = document.querySelector(\".add\");\n\nif (addBtn) {\n  addBtn.addEventListener(\"click\", event => {\n    event.preventDefault();\n    addModal.classList.add(\"add--open\");\n  });\n}\n\nif (addModal) {\n  let overlay = document.querySelector(\".add__overlay\");\n  let closeBtn = document.querySelector(\"#add-close\"); // закрыть через Esc\n\n  window.addEventListener(\"keydown\", event => {\n    if (event.key === \"Escape\") {\n      if (addModal.classList.contains(\"add--open\")) {\n        event.preventDefault();\n        addModal.classList.remove(\"add--open\");\n\n        window.onscroll = function () {};\n      }\n    }\n  }); // Закрыть по клику снаружи\n\n  overlay.addEventListener(\"click\", elem => {\n    if (elem.target === overlay && elem.target !== addModal) {\n      addModal.classList.remove(\"add--open\");\n\n      window.onscroll = function () {};\n    }\n  }); // закрыть крестиком\n\n  closeBtn.addEventListener(\"click\", () => {\n    addModal.classList.remove(\"add--open\");\n\n    window.onscroll = function () {};\n  });\n} // login modal\n\n\nlet loginBtn = document.querySelectorAll(\".js-login\");\nlet loginModal = document.querySelector(\".login\");\nlet storageEmail = \"\";\nlet email = document.querySelector(\"#user-email\");\nlet isStorageSupport = true;\n\nif (loginBtn) {\n  loginBtn.forEach(btn => {\n    btn.addEventListener(\"click\", event => {\n      event.preventDefault();\n      loginModal.classList.add(\"login--open\");\n\n      if (storageEmail) {\n        console.log(email);\n\n        if (email) {\n          console.log(email.value);\n          email.value = storageEmail;\n        }\n      } else {\n        console.log(123);\n        email.focus();\n      }\n    });\n  });\n}\n\nif (loginModal) {\n  let overlay = document.querySelector(\".login__overlay\");\n  let closeBtn = document.querySelector(\"#login-close\");\n  let loginForm = document.querySelector(\".modal-form\");\n\n  try {\n    storageEmail = localStorage.getItem(\"email\");\n    console.log(storageEmail);\n  } catch (err) {\n    isStorageSupport = false;\n  } // закрыть через Esc\n\n\n  window.addEventListener(\"keydown\", event => {\n    if (event.key === \"Escape\") {\n      if (loginModal.classList.contains(\"login--open\")) {\n        event.preventDefault();\n        loginModal.classList.remove(\"login--open\");\n\n        window.onscroll = function () {};\n      }\n    }\n  }); // Закрыть по клику снаружи\n\n  overlay.addEventListener(\"click\", elem => {\n    if (elem.target === overlay && elem.target !== loginModal) {\n      loginModal.classList.remove(\"login--open\");\n\n      window.onscroll = function () {};\n    }\n  }); // закрыть крестиком\n\n  closeBtn.addEventListener(\"click\", () => {\n    loginModal.classList.remove(\"login--open\");\n\n    window.onscroll = function () {};\n  }); // запись email при отправке\n\n  if (loginForm) {\n    loginForm.addEventListener(\"submit\", () => {\n      if (isStorageSupport) {\n        localStorage.setItem(\"email\", email.value);\n      }\n    });\n  }\n}"],"file":"script.js"}