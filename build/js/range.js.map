{"version":3,"names":[],"mappings":"","sources":["range.js"],"sourcesContent":["\"use strict\";\n\nsetTimeout(init2slider(\"range-box\", \"range-ruler\", \"range-left-button\", \"range-right-button\", \"range-left-cell\", \"range-right-cell\"), 0);\n\nfunction init2slider(idX, btwX, btn1X, btn2X, input1, input2) {\n  var slider = document.getElementById(idX);\n  var between = document.getElementById(btwX);\n  var button1 = document.getElementById(btn1X);\n  var button2 = document.getElementById(btn2X);\n  var inpt1 = document.getElementById(input1);\n  var inpt2 = document.getElementById(input2);\n  var min = inpt1.min;\n  var max = inpt1.max;\n  /*init*/\n\n  var sliderCoords = getCoords(slider);\n  button1.style.marginLeft = \"0px\";\n  button2.style.marginLeft = slider.offsetWidth - button1.offsetWidth + \"px\";\n  between.style.width = slider.offsetWidth - button1.offsetWidth + \"px\";\n  inpt1.value = min;\n  inpt2.value = max;\n\n  inpt1.onchange = function (evt) {\n    if (parseInt(inpt1.value) < min) inpt1.value = min;\n    if (parseInt(inpt1.value) > max) inpt1.value = max;\n\n    if (parseInt(inpt1.value) > parseInt(inpt2.value)) {\n      var temp = inpt1.value;\n      inpt1.value = inpt2.value;\n      inpt2.value = temp;\n    }\n\n    var sliderCoords = getCoords(slider);\n    var per1 = parseInt(inpt1.value - min) * 100 / (max - min);\n    var per2 = parseInt(inpt2.value - min) * 100 / (max - min);\n    var left1 = per1 * (slider.offsetWidth - button1.offsetWidth) / 100;\n    var left2 = per2 * (slider.offsetWidth - button1.offsetWidth) / 100;\n    button1.style.marginLeft = left1 + \"px\";\n    button2.style.marginLeft = left2 + \"px\";\n\n    if (left1 > left2) {\n      between.style.width = left1 - left2 + \"px\";\n      between.style.marginLeft = left2 + \"px\";\n    } else {\n      between.style.width = left2 - left1 + \"px\";\n      between.style.marginLeft = left1 + \"px\";\n    }\n  };\n\n  inpt2.onchange = function (evt) {\n    if (parseInt(inpt2.value) < min) inpt2.value = min;\n    if (parseInt(inpt2.value) > max) inpt2.value = max;\n\n    if (parseInt(inpt1.value) > parseInt(inpt2.value)) {\n      var temp = inpt1.value;\n      inpt1.value = inpt2.value;\n      inpt2.value = temp;\n    }\n\n    var sliderCoords = getCoords(slider);\n    var per1 = parseInt(inpt1.value - min) * 100 / (max - min);\n    var per2 = parseInt(inpt2.value - min) * 100 / (max - min);\n    var left1 = per1 * (slider.offsetWidth - button1.offsetWidth) / 100;\n    var left2 = per2 * (slider.offsetWidth - button1.offsetWidth) / 100;\n    button1.style.marginLeft = left1 + \"px\";\n    button2.style.marginLeft = left2 + \"px\";\n\n    if (left1 > left2) {\n      between.style.width = left1 - left2 + \"px\";\n      between.style.marginLeft = left2 + \"px\";\n    } else {\n      between.style.width = left2 - left1 + \"px\";\n      between.style.marginLeft = left1 + \"px\";\n    }\n  };\n  /*mouse*/\n\n\n  button1.onmousedown = function (evt) {\n    var sliderCoords = getCoords(slider);\n    var betweenCoords = getCoords(between);\n    var buttonCoords1 = getCoords(button1);\n    var buttonCoords2 = getCoords(button2);\n    var shiftX2 = evt.pageX - buttonCoords2.left;\n    var shiftX1 = evt.pageX - buttonCoords1.left;\n\n    document.onmousemove = function (evt) {\n      var left1 = evt.pageX - shiftX1 - sliderCoords.left;\n      var right1 = slider.offsetWidth - button1.offsetWidth;\n      if (left1 < 0) left1 = 0;\n      if (left1 > right1) left1 = right1;\n      button1.style.marginLeft = left1 + \"px\";\n      shiftX2 = evt.pageX - buttonCoords2.left;\n      var left2 = evt.pageX - shiftX2 - sliderCoords.left;\n      var right2 = slider.offsetWidth - button2.offsetWidth;\n      if (left2 < 0) left2 = 0;\n      if (left2 > right2) left2 = right2;\n      var per_min = 0;\n      var per_max = 0;\n\n      if (left1 > left2) {\n        between.style.width = left1 - left2 + \"px\";\n        between.style.marginLeft = left2 + \"px\";\n        per_min = left2 * 100 / (slider.offsetWidth - button1.offsetWidth);\n        per_max = left1 * 100 / (slider.offsetWidth - button1.offsetWidth);\n      } else {\n        between.style.width = left2 - left1 + \"px\";\n        between.style.marginLeft = left1 + \"px\";\n        per_min = left1 * 100 / (slider.offsetWidth - button1.offsetWidth);\n        per_max = left2 * 100 / (slider.offsetWidth - button1.offsetWidth);\n      }\n\n      inpt1.value = parseInt(min) + Math.round((max - min) * per_min / 100);\n      inpt2.value = parseInt(min) + Math.round((max - min) * per_max / 100);\n    };\n\n    document.onmouseup = function () {\n      document.onmousemove = document.onmouseup = null;\n    };\n\n    return false;\n  };\n\n  button2.onmousedown = function (evt) {\n    var sliderCoords = getCoords(slider);\n    var betweenCoords = getCoords(between);\n    var buttonCoords1 = getCoords(button1);\n    var buttonCoords2 = getCoords(button2);\n    var shiftX2 = evt.pageX - buttonCoords2.left;\n    var shiftX1 = evt.pageX - buttonCoords1.left;\n\n    document.onmousemove = function (evt) {\n      var left2 = evt.pageX - shiftX2 - sliderCoords.left;\n      var right2 = slider.offsetWidth - button2.offsetWidth;\n      if (left2 < 0) left2 = 0;\n      if (left2 > right2) left2 = right2;\n      button2.style.marginLeft = left2 + \"px\";\n      shiftX1 = evt.pageX - buttonCoords1.left;\n      var left1 = evt.pageX - shiftX1 - sliderCoords.left;\n      var right1 = slider.offsetWidth - button1.offsetWidth;\n      if (left1 < 0) left1 = 0;\n      if (left1 > right1) left1 = right1;\n      var per_min = 0;\n      var per_max = 0;\n\n      if (left1 > left2) {\n        between.style.width = left1 - left2 + \"px\";\n        between.style.marginLeft = left2 + \"px\";\n        per_min = left2 * 100 / (slider.offsetWidth - button1.offsetWidth);\n        per_max = left1 * 100 / (slider.offsetWidth - button1.offsetWidth);\n      } else {\n        between.style.width = left2 - left1 + \"px\";\n        between.style.marginLeft = left1 + \"px\";\n        per_min = left1 * 100 / (slider.offsetWidth - button1.offsetWidth);\n        per_max = left2 * 100 / (slider.offsetWidth - button1.offsetWidth);\n      }\n\n      inpt1.value = parseInt(min) + Math.round((max - min) * per_min / 100);\n      inpt2.value = parseInt(min) + Math.round((max - min) * per_max / 100);\n    };\n\n    document.onmouseup = function () {\n      document.onmousemove = document.onmouseup = null;\n    };\n\n    return false;\n  };\n\n  button1.ondragstart = function () {\n    return false;\n  };\n\n  button2.ondragstart = function () {\n    return false;\n  };\n\n  function getCoords(elem) {\n    var box = elem.getBoundingClientRect();\n    return {\n      top: box.top + pageYOffset,\n      left: box.left + pageXOffset\n    };\n  }\n}"],"file":"range.js"}